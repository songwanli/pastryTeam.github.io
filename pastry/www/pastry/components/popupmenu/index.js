console.log("def:component_popupmenu"),define(["js/core","~/components/popupwindow/index","css!~/components/popupmenu/style/main.css"],function(t){var n=t.api,e=t.Component,i=t.Template,p=n.$;i.PopupMenu={popupWindow:function(t){return _.template('<div class="popupmenu-popup"><%for(var i=0,n=data.'+t.data+'.length;i<n;i++){%><input class="popupmenu-menu" type="button" value="<%=data.'+t.data+"[i]."+t.title+'%>" data-menu-button="<%=i%>"/><%}%><%if(data.showCancel){%><input class="popupmenu-menu" type="button" value="<%=data.cancelText%>" data-menu-button/><%}%></div>',i.outerSettings)}},e.PopupMenu=e.PopupWindow.extend({initialize:function(t){this._super.apply(this,arguments),this.onMenuClick=n.getTypeVal("Function",t.onMenuClick,this.onMenuClick);var e=this.model;this.autoId&&_.isArray(t.menus)&&e.set({menus:t.menus});var u=e.mapping=n.getTypeVal("Object",e.mapping,{});u.data=n.getTypeVal("String",u.menus,"menus"),u.title=n.getTypeVal("String",u.title,t.mapping?t.mapping.title:void 0,"title"),this.template.ready=i.obtainTemplate(this.template.ready,i.PopupMenu.popupWindow(u));var a=this;this.bindEvent("click [data-menu-button]",function(t){var n=p(t.currentTarget).data("menu-button");a.close(""===n?void 0:n)})},onResult:function(t){if(_.isFunction(this.onMenuClick)){var n=this.model.get("menus");n&&n[t]&&this.onMenuClick({menu:n[t],index:t})}}})});