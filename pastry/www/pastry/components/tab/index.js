console.log("def:component_tab"),define(["js/core"],function(t){var e,a,i,n,s;return s=t.api,i=t.DependencyManager,a=t.Component,n=t.Template,e=s.$,e.fn.tab.Constructor.prototype.close=function(){var t,a,i,n,s,r,o;return i=this.element.parent("a"),n=i.closest("ul:not(.dropdown-menu)"),t=n.find(".active:last a"),s=e.Event("close.bs.tab",{relatedTarget:t[0]}),i.trigger(s),s.isDefaultPrevented()?void 0:(i.closest("li").remove(),t=n.find(".active:last a"),0===t.length&&(t=n.find("a:first")),o=t.parent("li"),r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""),a=e(r),this.activate(o,n),this.activate(a,a.parent(),function(){return i.trigger({type:"shown.bs.tab",relatedTarget:null})}))},e(document).on("click.bs.tab.data-api",'[data-toggle="close"]',function(t){return t.preventDefault(),e.fn.tab.call(e(this),"close"),!1}),n.Tab={content:_.template('<ul class="nav nav-tabs"> <%for(var i=0,n=data.items.length;i < n;i++){%> <li> <a data-toggle="tab" data-index="<%=i%>" href="#<%=data.items[i].id%>"> <%=data.items[i].title%> <%if(data.items[i].closeable){%> <span data-toggle="close">x</span> <%}%> </a> </li> <%}%> </ul> <div class="tab-content" style="overflow:auto;clear: both"> <%for(var i=0,n=data.items.length;i < n;i++){%> <div class="tab-pane" id="<%=data.items[i].id%>" data-component="<%=data.items[i].component%>"><%=data.items[i].content%></div> <%}%> </div>',n.outerSettings)},a.Tab=a.Container.extend({initialize:function(t){var a,r,o,l,d,c,h;for(this._super(t),l=this.$("[data-tab-item]"),o=[],this.selectIndex=-1,a=d=0,c=l.length;c>d;a=++d)r=l[a],r=e(r),-1===this.selectIndex&&r.is("[data-active]")&&(this.selectIndex=a),o[a]={title:r.attr("data-title"),content:r.html(),id:this.id.replace("#","_")+"_"+r.attr("data-tab-item")||a,component:r.attr("data-component")||"Form",closeable:r.attr("data-closeable"),template:r.attr("data-template")};this.items=o,this.template.ready=n.obtainTemplate(this.$el.data("template"),n.Tab.content),this.model.set({id:this.id,items:this.items},{silent:!0}),h=this,this.$el.on("shown.bs.tab",function(t){var e,i;return h.id===t.target.getAttribute("data-tab-id")&&(s.adjustSize(),_.isFunction(h.onTabChange))?(a=t.target.getAttribute("data-index"),e=t.target.getAttribute("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""),i=e.substr(h.id.length+2),h.onTabChange({index:i,data:h.items[a]})):void 0}),i.calcDependency()},switchTo:function(t){this.$("a[href='#"+this.id.replace("#","_")+"_"+t+"']").tab("show")},afterRender:function(){var t,a;this._super.apply(this,arguments),this.$el.is("[data-match-parent]")&&this.$(".tab-content").attr("data-match-parent",""),this.$('[data-toggle="tab"]').attr("data-tab-id",this.id),a=this.selectIndex,t=this.items,-1!==a&&this.$("a[href]").each(function(i,n){var s,r;return s=e(n),r=s.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"").substr(1),t[a].id===r?s.tab("show"):void 0})}})});