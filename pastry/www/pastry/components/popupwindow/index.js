console.log("def:component_popupwindow"),define(["js/core"],function(n){var o=n.api,t=n.Component,i=n.Browser,e=o.$,s=function(n){n.preventDefault()};t.PopupWindow=t.Form.extend({initialize:function(n){this._super.apply(this,arguments),this.onSubmit=o.getTypeVal("Function",n.onSubmit,this.onSubmit),this.onResult=o.getTypeVal("Function",n.onResult,this.onResult),this.onCancel=o.getTypeVal("Function",n.onCancel,this.onCancel),this.onShow=o.getTypeVal("Function",n.onShow,this.onShow),this.onClose=o.getTypeVal("Function",n.onClose,this.onClose);var t=this;this.$el.addClass("modal"),this.$el.on("hidden.bs.modal",function(){t._onClose(t._result),t.$el.remove(),e(".fw-page-current").off("touchmove",s)}),this.bindEvent("click [data-close-button]",function(){t.close()}),o.bindFunctions(this,"_onBack")},show:function(){e(".fw-page-current").on("touchmove",null,s),i.bindGoBack(this._onBack),delete this._result,this.render(),i.showMask(null,null),e("body").append(),this.$el.modal(),setTimeout(function(){i.hideMask()},300),_.isFunction(this.onShow)&&this.onShow()},close:function(n){this.setResult(n),this.$el.modal("hide")},setResult:function(n){this._result=n},doSubmit:function(n){this.close(n)},_onClose:function(n){_.isUndefined(n)||_.isNull(n)?_.isFunction(this.onCancel)&&this.onCancel():_.isFunction(this.onResult)&&this.onResult(n),_.isFunction(this.onClose)&&this.onClose(n),i.unbindGoBack(this._onBack)},_onBack:function(){this.close(null)}})});