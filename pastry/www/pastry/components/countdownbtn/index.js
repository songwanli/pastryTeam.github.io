console.log("def:component_countdown"),define(["js/core"],function(t){var n=t.api,o=t.Component,e=t.Template;o.CountdownBtn=o.Button.extend({initialize:function(t){this._super.apply(this,arguments),this.time=n.getTypeVal("Finite",parseInt(this.$el.data("time")),60),this.countdownTemplate=e.obtainTemplate(this.$el.data("countdown-template"),"请稍候(<%=data.countdown%>)"),this.normalText=this.$el.val(),n.bindFunctions(this,"getCountdownText","_doCountdown");var o=this.model.countdown>0;o&&setTimeout(this._doCountdown,0)},_doCountdown:function(){if(this.model.countdown-->0){var t=this.model.countdown;this.$el.val(this.getCountdownText(t));var n=t>0;this.setEnable(!n),setTimeout(this._doCountdown,1e3)}},onClick:function(t){_.isFunction(this.onCountdown)&&this.onCountdown(t),this.model.countdown=this.time+1,setTimeout(this._doCountdown,0)},getCountdownText:function(t){var n;return n=t>0?this.countdownTemplate({countdown:this.model.countdown}):this.normalText,n},reset:function(){this.model.countdown=0}})});