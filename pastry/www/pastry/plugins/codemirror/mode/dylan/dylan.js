!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("dylan",function(e){function n(e,n,t){return n.tokenize=t,t(e,n)}function t(e,t){var o=e.peek();if("'"==o||'"'==o)return e.next(),n(e,t,r(o,"string"));if("/"==o)return e.next(),e.eat("*")?n(e,t,i):e.eat("/")?(e.skipToEnd(),"comment"):(e.skipTo(" "),"operator");if(/\d/.test(o))return e.match(/^\d*(?:\.\d*)?(?:e[+\-]?\d+)?/),"number";if("#"==o)return e.next(),o=e.peek(),'"'==o?(e.next(),n(e,t,r('"',"string-2"))):"b"==o?(e.next(),e.eatWhile(/[01]/),"number"):"x"==o?(e.next(),e.eatWhile(/[\da-f]/i),"number"):"o"==o?(e.next(),e.eatWhile(/[0-7]/),"number"):(e.eatWhile(/[-a-zA-Z]/),"keyword");if(e.match("end"))return"keyword";for(var a in f)if(f.hasOwnProperty(a)){var s=f[a];if(s instanceof Array&&s.some(function(n){return e.match(n)})||e.match(s))return c[a]}return e.match("define")?"def":(e.eatWhile(/[\w\-]/),m[e.current()]?u[e.current()]:e.current().match(l)?"variable":(e.next(),"variable-2"))}function i(e,n){for(var i=!1,r;r=e.next();){if("/"==r&&i){n.tokenize=t;break}i="*"==r}return"comment"}function r(e,n){return function(i,r){for(var o,a=!1;null!=(o=i.next());)if(o==e){a=!0;break}return a&&(r.tokenize=t),n}}var o={unnamedDefinition:["interface"],namedDefinition:["module","library","macro","C-struct","C-union","C-function","C-callable-wrapper"],typeParameterizedDefinition:["class","C-subtype","C-mapped-subtype"],otherParameterizedDefinition:["method","function","C-variable","C-address"],constantSimpleDefinition:["constant"],variableSimpleDefinition:["variable"],otherSimpleDefinition:["generic","domain","C-pointer-type","table"],statement:["if","block","begin","method","case","for","select","when","unless","until","while","iterate","profiling","dynamic-bind"],separator:["finally","exception","cleanup","else","elseif","afterwards"],other:["above","below","by","from","handler","in","instance","let","local","otherwise","slot","subclass","then","to","keyed-by","virtual"],signalingCalls:["signal","error","cerror","break","check-type","abort"]};o.otherDefinition=o.unnamedDefinition.concat(o.namedDefinition).concat(o.otherParameterizedDefinition),o.definition=o.typeParameterizedDefinition.concat(o.otherDefinition),o.parameterizedDefinition=o.typeParameterizedDefinition.concat(o.otherParameterizedDefinition),o.simpleDefinition=o.constantSimpleDefinition.concat(o.variableSimpleDefinition).concat(o.otherSimpleDefinition),o.keyword=o.statement.concat(o.separator).concat(o.other);var a="[-_a-zA-Z?!*@<>$%]+",l=new RegExp("^"+a),f={symbolKeyword:a+":",symbolClass:"<"+a+">",symbolGlobal:"\\*"+a+"\\*",symbolConstant:"\\$"+a},c={symbolKeyword:"atom",symbolClass:"tag",symbolGlobal:"variable-2",symbolConstant:"variable-3"};for(var s in f)f.hasOwnProperty(s)&&(f[s]=new RegExp("^"+f[s]));f.keyword=[/^with(?:out)?-[-_a-zA-Z?!*@<>$%]+/];var d={};d.keyword="keyword",d.definition="def",d.simpleDefinition="def",d.signalingCalls="builtin";var m={},u={};return["keyword","definition","simpleDefinition","signalingCalls"].forEach(function(e){o[e].forEach(function(n){m[n]=e,u[n]=d[e]})}),{startState:function(){return{tokenize:t,currentIndent:0}},token:function(e,n){if(e.eatSpace())return null;var t=n.tokenize(e,n);return t},blockCommentStart:"/*",blockCommentEnd:"*/"}}),e.defineMIME("text/x-dylan","dylan")});