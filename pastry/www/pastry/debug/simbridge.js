console.log("def:debug_simbridge"),define(["js/core","~/components/popupwindow/index"],function(t){var e,o,n,i,a,u,d,r,s;o=t.Model,e=t.Component,s=t.Template,i=t.Bridge,n=t.api,r=n.getLocalStorage();try{a=JSON.parse(r.getItem("fw_SimBridgeDefRetMap"))}catch(d){u=d}(_.isNull(a)||!_.isObject(a))&&(a={}),i.showSimBridgeWindow=function(t,i,d){var r;r=t.act,i=n.getTypeVal("Object",a[r],i),new e.PopupWindow({template:_.template('<div style="width: 100%max-height:100%bottom: 0position: absolutebackground: #fff"> <h1>request:</h1><textarea readonly data-name="request" data-component="Label" style="width: 100%height: 200pxoverflow-y: auto"></textarea> <h1>response:</h1><textarea data-name="data" data-component="Input" style="width: 100%height: 300px"></textarea> <input style="width: 100%" data-submit-button type="button" value="确定"> <div>',s.outerSettings),model:new o.Simple({request:JSON.stringify(t,null," "),data:JSON.stringify(i,null,"  ")}),onResult:function(t){var e,o;try{e=JSON.parse(t.data),d(e)}catch(o){u=o,alert("--->"+u.message)}}}).show()},window.alert=function(t,o){return new e.PopupWindow({template:_.template('<div style="width: 100%;max-height:100%;bottom: 0;position: absolute;background: #fff"> <h1>alert</h1><textarea readonly style="width: 100%;height: 200px;overflow-y: auto">'+t+'</textarea> <input style="width: 100%" data-submit-button type="button" value="确定"> <div>',s.outerSettings),onShow:function(){var t;t=this,this.onKeyDown=function(e){return 13===e.keyCode||27===e.keyCode?(t.close(),e.preventDefault()):void 0},$(document).on("keydown",this.onKeyDown)},onClose:function(){$(document).off("keydown",this.onKeyDown),n.safeCall(o)}}).show()},window.confirm=function(t,o){return new e.PopupWindow({template:_.template('<div style="width: 100%;bottom: 0;position: absolute;background: #fff"> <h1>alert</h1><textarea readonly style="width: 100%;height: 200px;overflow-y: auto">'+t+'</textarea> <input style="width: 50%" data-submit-button="yes" type="button" value="确定"> <input style="width: 50%" data-submit-button="no" type="button" value="取消"> <div>',s.outerSettings),onSubmit:function(t,e){return{result:"yes"===e}},onShow:function(){var t;t=this,this.onKeyDown=function(e){return 13===e.keyCode||27===e.keyCode?(t.close({result:13===e.keyCode}),e.preventDefault()):void 0},$(document).on("keydown",this.onKeyDown)},onClose:function(t){$(document).off("keydown",this.onKeyDown),n.safeCall(o,t?t.result:!1)}}).show()},i.getSessionState=function(t){setTimeout(function(){var e;return e=window.confirm("模拟已登录请点击确定\n模拟未登录请点击取消。"),t(e?0:1)},0)},i.login=function(t){setTimeout(function(){var e;return e=window.confirm("模拟用户登录..."),e?t():void 0},0)}});