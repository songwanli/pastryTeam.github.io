define(["~/lib/libex"],function(r){return r.unicode2Utf8=function(r){var o,C,e,t="";for(C=r.length,o=0;C>o;o++)e=r.charCodeAt(o),e>=0&&127>=e?t+=r.charAt(o):e>=128&&2047>=e?(t+=String.fromCharCode(192|e>>6&31),t+=String.fromCharCode(128|63&e)):e>=2048&&65535>=e?(t+=String.fromCharCode(224|e>>12&15),t+=String.fromCharCode(128|e>>6&63),t+=String.fromCharCode(128|63&e)):e>=65536&&2097151>=e?(t+=String.fromCharCode(240|e>>18&7),t+=String.fromCharCode(128|e>>12&63),t+=String.fromCharCode(128|e>>6&63),t+=String.fromCharCode(128|63&e)):e>=2097152&&67108863>=e?(t+=String.fromCharCode(248|e>>24&3),t+=String.fromCharCode(128|e>>18&63),t+=String.fromCharCode(128|e>>12&63),t+=String.fromCharCode(128|e>>6&63),t+=String.fromCharCode(128|63&e)):e>=67108864&&2147483647>=e&&(t+=String.fromCharCode(252|e>>30&1),t+=String.fromCharCode(128|e>>24&63),t+=String.fromCharCode(128|e>>18&63),t+=String.fromCharCode(128|e>>12&63),t+=String.fromCharCode(128|e>>6&63),t+=String.fromCharCode(128|63&e));return t},r.utf82Unicode=function(r){for(var o="",C=r.length,e=0,t=C,f,i,n;C>e;)if(f=r.charCodeAt(e),0===(128&f)){if(1>t)break;o+=String.fromCharCode(127&f),e++,t-=1}else if(192===(224&f)){if(i=r.charCodeAt(e+1),2>t||128!==(192&i))break;o+=String.fromCharCode((63&f)<<6|63&i),e+=2,t-=2}else{if(224!==(240&f))break;if(i=r.charCodeAt(e+1),n=r.charCodeAt(e+2),3>t||128!==(192&i)||128!==(192&n))break;o+=String.fromCharCode((15&f)<<12|(63&i)<<6|63&n),e+=3,t-=3}return 0!==t?"":o},r});