<!--
name:Button
platform:all
group:base
desc:按钮
-->
<!DOCTYPE html>
<html>
<head>
    <title>Button</title>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=0" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta content="telephone=no" name="format-detection" />
    <meta http-equiv="Pragma" content="no-cache" />

    <!--引入框架-->
    <script type="text/javascript" src="../pastry/main.js"
            data-debug="@mockdata"></script>
</head>
<body>
    <!--设置加载页-->
    <div data-page-loading>
        Loading...
    </div>
</body>
</html>

<!-- 业务模板定义 -->
<script type="text/template" id="tp_HomePageID" data-title="Button">
    <div data-component="NormalButton">
        <span type="text">普通按钮</span>
    </div>
    <div data-component="DisableButton">
        <span type="text">禁用按钮</span>
    </div>
    <div data-component="ImageButton">
        <span type="text">图片按钮</span>
    </div>
    <div data-component="TestButton">
        <div data-component="Label" data-name="TEXT"></div>
    </div>
</script>

<script type="text/javascript">
    $(function (param) {
        var Model = this.Model;
        var Component = this.Component;
        var Browser = this.Browser;
        var api = this.api;

        var windowModel = {
            'homePageID': new Model.Request(
                    {
                        TEXT: 'Hello World! default'
                    },
                    {
                        url: 'base_button.do?act=getText'
                    }
            )};

        api.setModels(windowModel);
        
        Component.NormalButton = Component.Button.extend({
            //点击事件的回调，参数event为点击时产生的事件对象
            onClick: function (event) {
                alert("点击 普通按钮");
            }
        });
        
        Component.DisableButton = Component.Button.extend({
            //点击事件的回调，参数event为点击时产生的事件对象
            onClick: function (event) {
                alert("点击 禁用按钮");
            }
        });

        Component.ImageButton = Component.Button.extend({
            //点击事件的回调，参数event为点击时产生的事件对象
            onClick: function (event) {
                alert("点击 图片按钮");
            }
        });

        Component.TestButton = Component.Button.extend({
            //点击事件的回调，参数event为点击时产生的事件对象
            onClick: function (event) {
                alert("点击 按钮");
            }
        });

        var option = {
            refresh: [
                {
                    id: 'homePageID',
                    initVal: {
                        TEXT: 'Hello World!'
                    },
                    removeVal: 'TEXT'
                }
            ]
        };

        Browser.history_goto("tp_HomePageID", option);
    });
</script>
